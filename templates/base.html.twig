<!DOCTYPE html>
<html>
    <head>
        <meta charset="UTF-8">
        <title>{% block title %}MediCare+{% endblock %}</title>
        
        {# On garde Tailwind pour la mise en page simple #}
        <script src="https://cdn.tailwindcss.com"></script>
        <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@300;400;500;600;700&display=swap" rel="stylesheet">

        <style>
            * { font-family: 'Poppins', sans-serif; }
            html { scroll-behavior: smooth; }
            .card-border { border: 1px solid #e5e7eb; transition: all 0.3s ease; }
            .card-border:hover { border-color: #2563eb; background-color: #f8fafc; }
        </style>

        {% block stylesheets %}{% endblock %}
    </head>
    <body class="text-gray-800 bg-white">
        <!-- Navigation -->
        <header class="sticky top-0 z-50 bg-white border-b border-gray-100">
            <div class="container mx-auto px-4 py-4 flex justify-between items-center">
                <div class="flex items-center">
                    <a href="/" class="text-2xl font-bold text-gray-900 tracking-tight">
                        MediCare<span class="text-blue-600">+</span>
                    </a>
                </div>
                <nav class="hidden md:flex space-x-8 font-medium text-gray-500 text-sm uppercase tracking-wide">
                    {% if app.user %}
                        {% if 'ROLE_MEDECIN' in app.user.roles %}
                            <a href="{{ path('app_admin_dashboard') }}" class="hover:text-blue-600">Dashboard</a>
                            <a href="{{ path('app_admin_patient_index') }}" class="hover:text-blue-600">Patients</a>
                            <a href="{{ path('app_admin_rendez_vous_index') }}" class="hover:text-blue-600">Rendez-vous</a>
                            <a href="{{ path('app_admin_consultation_index') }}" class="hover:text-blue-600">Consultations</a>
                        {% elseif 'ROLE_PATIENT' in app.user.roles %}
                            <a href="{{ path('app_patient_dashboard') }}" class="hover:text-blue-600">Mon Tableau de bord</a>
                            <a href="{{ path('app_patient_rendez_vous_index') }}" class="hover:text-blue-600">Mes Rendez-vous</a>
                            <a href="{{ path('app_patient_consultation_index') }}" class="hover:text-blue-600">Mes Consultations</a>
                        {% endif %}
                    {% else %}
                        <a href="{{ path('app_home') }}" class="hover:text-blue-600">Accueil</a>
                    {% endif %}
                </nav>
                <div class="flex items-center gap-4">
                    {% if app.user %}
                        <span class="text-gray-600 text-sm">{{ app.user.prenom }} {{ app.user.nom }}</span>
                        <a href="{{ path('app_logout') }}" class="bg-red-600 hover:bg-red-700 text-white px-6 py-2 rounded-md font-semibold text-sm transition">
                            Déconnexion
                        </a>
                    {% else %}
                        <a href="{{ path('app_login') }}" class="bg-blue-600 hover:bg-blue-700 text-white px-6 py-2 rounded-md font-semibold text-sm transition">
                            Connexion
                        </a>
                    {% endif %}
                </div>
            </div>
        </header>

        {% block body %}{% endblock %}

        <!-- Footer -->
        <footer id="contact" class="bg-gray-50 border-t border-gray-100 py-12">
            <div class="container mx-auto px-4 grid grid-cols-1 md:grid-cols-3 gap-12 text-sm">
                <div>
                    <h3 class="text-lg font-bold mb-4">MediCare+</h3>
                    <p class="text-gray-500 leading-relaxed">Cabinet médical multidisciplinaire engagé pour votre santé au quotidien.</p>
                </div>
                <div>
                    <h4 class="font-bold mb-4 uppercase">Contact</h4>
                    <p class="text-gray-600">Tél: +33 1 23 45 67 89</p>
                    <p class="text-gray-600">Email: contact@medicare.fr</p>
                </div>
                <div>
                    <h4 class="font-bold mb-4 uppercase">Adresse</h4>
                    <p class="text-gray-600">123 Avenue de la Santé, Paris</p>
                    <p class="text-gray-600">Ouvert Lun - Ven (08h-19h)</p>
                </div>
            </div>
            <div class="text-center mt-12 text-gray-400 text-xs">
                &copy; {{ "now"|date("Y") }} MediCare+. Tous droits réservés.
            </div>
        </footer>

        {% block javascripts %}{% endblock %}
    </body>
</html>